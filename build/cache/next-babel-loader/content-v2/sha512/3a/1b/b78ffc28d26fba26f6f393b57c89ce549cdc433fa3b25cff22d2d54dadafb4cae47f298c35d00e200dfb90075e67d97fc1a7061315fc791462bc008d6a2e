{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as types from './chefType';\nimport axiosClient from '../../../utils/axios-config';\nimport { getSession } from 'next-auth/client';\nimport axios from 'axios';\nexport function chefOrders() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axiosClient.get('order/list/chef', {\n                params: params\n              });\n\n            case 3:\n              res = _context.sent;\n              return _context.abrupt(\"return\", res);\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              return _context.abrupt(\"return\", Promise.reject(_context.t0));\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n}\nexport function chefBalanceToday() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  // const todayDate = new Date().toISOString().split(\"T\")[0];\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axiosClient.get(\"user/chef/balance\");\n\n            case 3:\n              res = _context2.sent;\n              return _context2.abrupt(\"return\", res);\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              return _context2.abrupt(\"return\", Promise.reject(_context2.t0));\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n}\nexport function chefPlates() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var chefId = arguments.length > 1 ? arguments[1] : undefined;\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              dispatch({\n                type: types.CHEF_PLATES_REQUEST\n              });\n              _context3.prev = 1;\n              _context3.next = 4;\n              return axiosClient.get(\"plate/chef/\".concat(chefId), {\n                params: params\n              });\n\n            case 4:\n              res = _context3.sent;\n              dispatch({\n                type: types.CHEF_PLATES_SUCCESS,\n                payload: res\n              });\n              return _context3.abrupt(\"return\", res);\n\n            case 9:\n              _context3.prev = 9;\n              _context3.t0 = _context3[\"catch\"](1);\n              dispatch({\n                type: types.CHEF_PLATES_SUCCESS\n              });\n              return _context3.abrupt(\"return\", Promise.reject(_context3.t0));\n\n            case 13:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[1, 9]]);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n}\nexport function mustTryAndRecommendedChef() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    page: 1,\n    pageSize: 10\n  };\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return axiosClient.get('user/mustTryAndRecommendedChefs', {// params,\n              });\n\n            case 3:\n              res = _context4.sent;\n              return _context4.abrupt(\"return\", res);\n\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](0);\n              return _context4.abrupt(\"return\", Promise.reject(_context4.t0));\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 7]]);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n}\nexport function addPlates(param) {\n  return /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch) {\n      var session, res, status;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              dispatch({\n                type: types.CHEF_ADD_PLATES_REQUEST\n              });\n              _context5.next = 3;\n              return getSession();\n\n            case 3:\n              session = _context5.sent;\n              console.log(session.apiToken);\n              _context5.prev = 5;\n              _context5.next = 8;\n              return axiosClient.post('plate', param, {\n                headers: {\n                  'content-type': 'application/json',\n                  'x-access-token': session.apiToken\n                }\n              });\n\n            case 8:\n              res = _context5.sent;\n              console.log(res);\n              status = res.status;\n\n              if (!(status == 201)) {\n                _context5.next = 16;\n                break;\n              }\n\n              dispatch({\n                type: types.CHEF_ADD_PLATES_SUCCESS,\n                payload: res.plate\n              });\n              return _context5.abrupt(\"return\", res);\n\n            case 16:\n              dispatch({\n                type: types.CHEF_ADD_PLATES_FAILURE\n              });\n              console.log(res.status);\n              return _context5.abrupt(\"return\", Promise.reject());\n\n            case 19:\n              _context5.next = 25;\n              break;\n\n            case 21:\n              _context5.prev = 21;\n              _context5.t0 = _context5[\"catch\"](5);\n              dispatch({\n                type: types.CHEF_ADD_PLATES_FAILURE\n              });\n              return _context5.abrupt(\"return\", Promise.reject(_context5.t0));\n\n            case 25:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[5, 21]]);\n    }));\n\n    return function (_x5) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n}\nexport function addPlateImages(image) {\n  return /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch) {\n      var proxyurl, url, res, status;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              dispatch({\n                type: types.CHEF_ADD_PLATES_IMAGES_REQUEST\n              });\n              proxyurl = 'https://afternoon-brook-18118.herokuapp.com/';\n              url = 'https://cheffyus-api.herokuapp.com/';\n              _context6.prev = 3;\n              _context6.next = 6;\n              return axios.post(proxyurl + url + \"images/\", image);\n\n            case 6:\n              res = _context6.sent;\n              status = res.status;\n\n              if (!(status === 200)) {\n                _context6.next = 13;\n                break;\n              }\n\n              dispatch({\n                type: types.CHEF_ADD_PLATES_IMAGES_SUCCESS,\n                payload: res.data.url\n              });\n              return _context6.abrupt(\"return\", res);\n\n            case 13:\n              dispatch({\n                type: types.CHEF_ADD_PLATES_IMAGES_FAILURE\n              });\n              return _context6.abrupt(\"return\", Promise.reject());\n\n            case 15:\n              _context6.next = 21;\n              break;\n\n            case 17:\n              _context6.prev = 17;\n              _context6.t0 = _context6[\"catch\"](3);\n              dispatch({\n                type: types.CHEF_ADD_PLATES_IMAGES_FAILURE\n              });\n              return _context6.abrupt(\"return\", Promise.reject());\n\n            case 21:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[3, 17]]);\n    }));\n\n    return function (_x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n}","map":null,"metadata":{},"sourceType":"module"}
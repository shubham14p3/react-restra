{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { HomeFilled } from \"@ant-design/icons\";\nimport { Button, Col, Collapse, Input, Row, Select, Switch, Typography } from \"antd\";\nimport { useEffect, useState } from \"react\";\nimport { VscLoading } from \"react-icons/vsc\";\nimport { useDispatch } from \"react-redux\";\nimport { asyncLocalStorage } from \"../../../utils/localStorage\";\nimport { getPlateByID } from \"../../../redux/actions/food\";\nimport Link from \"next/link\";\nimport Form from \"antd/lib/form/Form\";\nimport App from \"../../../payments/App\";\nimport { useSession } from \"next-auth/client\";\nexport default function Payment() {\n  var _useSession = useSession(),\n      _useSession2 = _slicedToArray(_useSession, 2),\n      session = _useSession2[0],\n      loading = _useSession2[1];\n\n  var dispatch = useDispatch();\n  var Panel = Collapse.Panel;\n  var Text = Typography.Text;\n  var Option = Select.Option;\n\n  var _useState = useState(0.0),\n      total = _useState[0],\n      setTotal = _useState[1];\n\n  var _useState2 = useState([]),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(''),\n      kitchenData = _useState3[0],\n      setKitchenData = _useState3[1];\n\n  var _useState4 = useState(''),\n      chefData = _useState4[0],\n      setChefData = _useState4[1];\n\n  var _useState5 = useState(''),\n      kitchenCostData = _useState5[0],\n      setKitchenCostData = _useState5[1];\n\n  var _useState6 = useState(''),\n      RentKitchenDate = _useState6[0],\n      setRentKitchenDate = _useState6[1];\n\n  var _useState7 = useState(''),\n      RentKitchenHour = _useState7[0],\n      setRentKitchenHour = _useState7[1];\n\n  var _useState8 = useState([]),\n      UserInfo = _useState8[0],\n      setUserInfo = _useState8[1];\n\n  var Item = function Item(_ref) {\n    var price = _ref.price,\n        name = _ref.name,\n        orderCount = _ref.orderCount,\n        plateID = _ref.plateID;\n\n    // console.log(key)\n    var _useState9 = useState(orderCount),\n        numberof = _useState9[0],\n        setNumber = _useState9[1];\n\n    var updateDOM = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(plateId, type) {\n        var cartitems;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return asyncLocalStorage.getItem(\"cartitems\");\n\n              case 2:\n                cartitems = _context.sent;\n                cartitems = JSON.parse(cartitems)[\"items\"];\n\n                if (!(cartitems.length > 0)) {\n                  _context.next = 9;\n                  break;\n                }\n\n                cartitems.forEach(function (item) {\n                  if (item[\"plateId\"] == plateId) {\n                    if (type === \"add\") {\n                      item[\"ordered\"] = item[\"ordered\"] + 1;\n                    } else {\n                      item[\"ordered\"] = item[\"ordered\"] - 1;\n                    }\n                  }\n                });\n                _context.next = 8;\n                return asyncLocalStorage.setItem(\"cartitems\", JSON.stringify({\n                  items: cartitems\n                }));\n\n              case 8:\n                window.location.reload();\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function updateDOM(_x, _x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    return /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"cart-item flex flex-row justify-between\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"order-last py-4\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"flex flex-row items-center\",\n            children: /*#__PURE__*/_jsxs(\"span\", {\n              className: \"flex space-x-2\",\n              children: [/*#__PURE__*/_jsxs(\"p\", {\n                className: \"font-bold space-x-1\",\n                children: [\"$\", price]\n              }), \" \", /*#__PURE__*/_jsx(\"p\", {\n                children: \"x\"\n              }), \" \", /*#__PURE__*/_jsx(\"p\", {\n                className: \"font-semibold\",\n                children: numberof\n              })]\n            })\n          })\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: \"text-base py-4 font-light\",\n          children: name\n        })]\n      })]\n    });\n  };\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var kitchenInfo, chefInfo, kitchenCost, RentKitchenDate, RentKitchenHour;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return asyncLocalStorage.getItem(\"kitchenName\");\n\n          case 2:\n            kitchenInfo = _context2.sent;\n            _context2.next = 5;\n            return asyncLocalStorage.getItem(\"chefName\");\n\n          case 5:\n            chefInfo = _context2.sent;\n            _context2.next = 8;\n            return asyncLocalStorage.getItem(\"kitchenCost\");\n\n          case 8:\n            kitchenCost = _context2.sent;\n            setKitchenData(kitchenInfo);\n            setChefData(chefInfo);\n            setKitchenCostData(kitchenCost);\n            _context2.next = 14;\n            return asyncLocalStorage.getItem(\"saveDate\");\n\n          case 14:\n            RentKitchenDate = _context2.sent;\n            _context2.next = 17;\n            return asyncLocalStorage.getItem(\"saveHour\");\n\n          case 17:\n            RentKitchenHour = _context2.sent;\n            setRentKitchenDate(RentKitchenDate);\n            setRentKitchenHour(RentKitchenHour);\n\n          case 20:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })), []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"h-auto mt-10\",\n    children: [/*#__PURE__*/_jsx(Row, {\n      className: \"mt-20 pt-2 pb-4 mx-auto w-3/5\",\n      align: \"middle\",\n      children: /*#__PURE__*/_jsxs(Col, {\n        span: 24,\n        className: \"flex justify-start items-center\",\n        children: [/*#__PURE__*/_jsx(HomeFilled, {}), /*#__PURE__*/_jsx(Text, {\n          strong: true,\n          className: \"text-black ml-4\",\n          children: \"Payments\"\n        })]\n      })\n    }), /*#__PURE__*/_jsx(Row, {\n      className: \"w-full bg-fixed bg-cover bg-no-repeat bg-center relative\",\n      style: {\n        backgroundImage: \"url(/images/blog-bg.png)\",\n        height: \"40vh\",\n        backgroundSize: \"cover\",\n        filter: \"brightness(50%)\"\n      },\n      justify: \"center\",\n      align: \"middle\"\n    }), /*#__PURE__*/_jsx(Row, {\n      className: \"absolute w-full\",\n      style: {\n        height: \"40vh\",\n        transform: \"translateY(-100%)\"\n      },\n      justify: \"center\",\n      align: \"middle\",\n      children: /*#__PURE__*/_jsx(Col, {\n        children: /*#__PURE__*/_jsx(Text, {\n          level: 1,\n          strong: true,\n          className: \"block text-white text-6xl font-bold\",\n          children: \"Payments\"\n        })\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"mx-auto w-4/5 my-20\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        style: {\n          display: \"grid\",\n          gridTemplateColumns: \"1fr 1fr\",\n          gap: \"2rem\"\n        },\n        children: [/*#__PURE__*/_jsxs(Collapse, {\n          defaultActiveKey: [\"2\"],\n          style: {\n            backgroundColor: \"#fff\",\n            border: \"none\"\n          },\n          children: [/*#__PURE__*/_jsx(Panel, {\n            header: \"Personal Details\",\n            className: \"text-2xl font-bold\",\n            children: /*#__PURE__*/_jsxs(Form, {\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: \"mt-1\",\n                children: [/*#__PURE__*/_jsx(\"label\", {\n                  \"for\": \"name\",\n                  style: {\n                    fontSize: \"16px\"\n                  },\n                  children: \"Name:\"\n                }), /*#__PURE__*/_jsx(Input, {\n                  className: \"w-100 py-4 px-3 mt-1 text-lg font-normal\",\n                  value: session.user.name,\n                  name: \"name\",\n                  bordered: false,\n                  style: {\n                    backgroundColor: \"#EDF2F7\",\n                    borderRadius: \"10px\"\n                  }\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"mt-5\",\n                children: [/*#__PURE__*/_jsx(\"label\", {\n                  \"for\": \"email\",\n                  style: {\n                    fontSize: \"16px\"\n                  },\n                  children: \"Email:\"\n                }), /*#__PURE__*/_jsx(Input, {\n                  type: \"email\",\n                  className: \"w-100 py-4 px-3 mt-1 text-lg font-normal\",\n                  value: session.user.email,\n                  name: \"email\",\n                  bordered: false,\n                  style: {\n                    backgroundColor: \"#EDF2F7\",\n                    borderRadius: \"10px\"\n                  }\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"mt-5\",\n                children: [/*#__PURE__*/_jsx(\"label\", {\n                  \"for\": \"phone\",\n                  style: {\n                    fontSize: \"16px\"\n                  },\n                  children: \"Phone:\"\n                }), /*#__PURE__*/_jsx(Input, {\n                  type: \"text\",\n                  className: \"w-100 py-4 px-3 mt-1 text-lg font-normal\",\n                  value: session.user.phone,\n                  name: \"phone\",\n                  bordered: false,\n                  style: {\n                    backgroundColor: \"#EDF2F7\",\n                    borderRadius: \"10px\"\n                  }\n                })]\n              })]\n            })\n          }, \"2\"), /*#__PURE__*/_jsx(Panel, {\n            header: \"Payment\",\n            className: \"text-2xl font-bold\",\n            children: /*#__PURE__*/_jsx(App, {})\n          }, \"3\")]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"px-2 py-4\",\n            children: [/*#__PURE__*/_jsx(\"h3\", {\n              style: {\n                fontSize: \"20px\"\n              },\n              children: \"Kitchen Information\"\n            }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"cart-item flex flex-row justify-between\",\n              children: [/*#__PURE__*/_jsx(\"p\", {\n                className: \"text-base py-4 font-light\",\n                children: kitchenData\n              }), /*#__PURE__*/_jsx(\"p\", {\n                className: \"text-base py-4 font-light\",\n                children: chefData\n              })]\n            }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"h3\", {\n              style: {\n                fontSize: \"20px\"\n              },\n              children: \"Date and Time\"\n            }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"cart-item flex flex-row justify-between\",\n              children: [/*#__PURE__*/_jsx(\"p\", {\n                className: \"text-base py-4 font-light\",\n                children: RentKitchenDate\n              }), /*#__PURE__*/_jsx(\"p\", {\n                className: \"text-base py-4 font-light\",\n                children: RentKitchenHour\n              })]\n            }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsx(\"div\", {\n              className: \"pt-4 pb-2 cart-info \",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex cart-info justify-between pt-1\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"cart-total order-last\",\n                  children: /*#__PURE__*/_jsxs(\"p\", {\n                    className: \"font-normal text-base\",\n                    children: [\"$\", kitchenCostData]\n                  })\n                }), /*#__PURE__*/_jsx(\"span\", {\n                  className: \"font-normal text-lg\",\n                  children: \"Subtotal\"\n                })]\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"pt-2 pb-4 cart-info \",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"flex cart-info justify-between pt-1\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"cart-total order-last\",\n                  children: /*#__PURE__*/_jsxs(\"p\", {\n                    className: \"font-bold  text-base\",\n                    children: [\"$\", kitchenCostData]\n                  })\n                }), /*#__PURE__*/_jsx(\"span\", {\n                  className: \"font-bold text-lg\",\n                  children: \"Total\"\n                })]\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"flex flex-row-reverse checkout-btn cursor-pointer\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: \"py-4 px-10 text-center bg-red-500 text-white font-semibold\",\n                children: \"Checkout \\u2192\"\n              })\n            })]\n          })\n        })]\n      })\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect, useState } from 'react';\nimport { Typography, Card, Row, Col, Button, Grid, Input, Space, Divider, Tabs, Skeleton } from 'antd';\nimport { HomeFilled, MenuOutlined, StarFilled, ClockCircleFilled } from '@ant-design/icons';\nimport { IoMdArrowDropdown } from \"react-icons/io\";\nimport { FaTruckMoving } from \"react-icons/fa\";\nimport axiosClient from '../../../utils/axios-config';\nimport Link from 'next/link';\nimport { VscLoading } from \"react-icons/vsc\";\nimport Image from \"next/image\";\nimport Head from 'next/head';\nvar Title = Typography.Title,\n    Paragraph = Typography.Paragraph,\n    Text = Typography.Text;\nvar TabPane = Tabs.TabPane; // {name,rating,count,price,price_type,imgURL}\n\nvar PlateCol = function PlateCol(_ref) {\n  var img_url = _ref.img_url,\n      name = _ref.name,\n      delivery_time = _ref.delivery_time,\n      delivery_type = _ref.delivery_type,\n      rating = _ref.rating,\n      sell_count = _ref.sell_count;\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"flex flex-col w-full\",\n      children: [/*#__PURE__*/_jsx(\"p\", {\n        className: \"text-white rounded-md text-center bg-cover py-20\",\n        style: {\n          backgroundImage: \"url(\".concat(img_url, \")\"),\n          // backgroundSize: '100%',\n          height: \"33vh\",\n          filter: \"brightness(70%)\"\n        }\n      }), /*#__PURE__*/_jsx(Text, {\n        className: \"pt-3 px-2 sm:pt-4 pb-1 font-semibold text-lg\",\n        children: name\n      }), /*#__PURE__*/_jsxs(\"span\", {\n        className: \"flex px-2 font-poppins font-normal flex-row justify-between\",\n        children: [/*#__PURE__*/_jsx(Text, {\n          children: /*#__PURE__*/_jsxs(\"p\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsx(StarFilled, {\n              className: \"pr-1 text-yellow-500\"\n            }), rating ? rating : \"0\"]\n          })\n        }), /*#__PURE__*/_jsx(Text, {\n          children: /*#__PURE__*/_jsxs(\"p\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsx(ClockCircleFilled, {\n              className: \"pr-1\"\n            }), \" \", delivery_time, \" min\"]\n          })\n        }), /*#__PURE__*/_jsx(Text, {\n          children: /*#__PURE__*/_jsxs(\"p\", {\n            className: \"flex items-center uppercase\",\n            children: [/*#__PURE__*/_jsx(FaTruckMoving, {\n              className: \"pr-1 text-lg\"\n            }), \" \", delivery_type]\n          })\n        })]\n      })]\n    })\n  });\n};\n\nvar CateGoryPlateComponent = function CateGoryPlateComponent(_ref2) {\n  var categoryID = _ref2.categoryID;\n\n  var _useState = useState([]),\n      plates = _useState[0],\n      setPlates = _useState[1];\n\n  var _useState2 = useState(0),\n      currentPage = _useState2[0],\n      setCurrentPage = _useState2[1]; // First get req should feth 0+1 page\n\n\n  var _useState3 = useState(false),\n      loading = _useState3[0],\n      setLoading = _useState3[1];\n\n  function getNewOnCheffy() {\n    return _getNewOnCheffy.apply(this, arguments);\n  }\n\n  function _getNewOnCheffy() {\n    _getNewOnCheffy = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var params, url, res, newData;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setLoading(true);\n              _context2.prev = 1;\n              params = {\n                page: currentPage + 1,\n                pageSize: 9\n              };\n              url = \"/plate/new?city=Centreville\";\n              _context2.next = 6;\n              return axiosClient.get(url, {\n                params: params\n              });\n\n            case 6:\n              res = _context2.sent;\n              setCurrentPage(currentPage + 1);\n              newData = [].concat(_toConsumableArray(plates), _toConsumableArray(res.data));\n              setPlates(newData); // Show more button needs to be implemented properly & that requires some API correction\n\n              _context2.next = 15;\n              break;\n\n            case 12:\n              _context2.prev = 12;\n              _context2.t0 = _context2[\"catch\"](1);\n              console.log(_context2.t0);\n\n            case 15:\n              setLoading(false);\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 12]]);\n    }));\n    return _getNewOnCheffy.apply(this, arguments);\n  }\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            getNewOnCheffy();\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), []);\n\n  var showCategory = function showCategory(kId) {\n    console.log(kId);\n    router.push(\"/category/\".concat(kId, \"/plates\"));\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: /*#__PURE__*/_jsx(\"title\", {\n        children: \"New On Cheffy\"\n      })\n    }), plates.length > 0 ? /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Row, {\n        className: \"mt-20 pt-6 lg:pt-2 pb-4 mx-auto max-w-7xl px-5 md:px-9\",\n        align: \"middle\",\n        children: /*#__PURE__*/_jsxs(Col, {\n          span: 24,\n          className: \"flex justify-start items-center\",\n          children: [/*#__PURE__*/_jsx(HomeFilled, {}), /*#__PURE__*/_jsx(Text, {\n            strong: true,\n            className: \"text-black  ml-4\",\n            children: \"New On Cheffy\"\n          })]\n        })\n      }), /*#__PURE__*/_jsx(Row, {\n        className: \"w-full bg-fixed bg-cover bg-no-repeat bg-center relative\",\n        style: {\n          backgroundImage: \"url(https://res.cloudinary.com/dexrrnlvq/image/upload/v1602088631/category_image/1602088629893-0f0a062c-Healthy.jpg.jpg)\",\n          height: '40vh',\n          filter: 'brightness(50%)'\n        },\n        justify: \"center\",\n        align: \"middle\"\n      }), /*#__PURE__*/_jsx(Row, {\n        className: \"absolute w-full\",\n        style: {\n          height: '40vh',\n          transform: 'translateY(-100%)'\n        },\n        justify: \"center\",\n        align: \"middle\",\n        children: /*#__PURE__*/_jsxs(Col, {\n          className: \"block text-white\",\n          children: [/*#__PURE__*/_jsx(Text, {\n            level: 1,\n            strong: true,\n            className: \"block font-poppins text-center text-white text-4xl sm:text-5xl\",\n            children: \"New On Cheffy\"\n          }), /*#__PURE__*/_jsx(Typography.Paragraph, {\n            className: \"px-32 pt-2 font-poppins text-center text-white\"\n          })]\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"py-20 max-w-7xl px-5 md:px-9 mx-auto\",\n        children: [/*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsxs(Tabs, {\n          defaultActiveKey: 'relavance',\n          className: \"font-bold\",\n          size: \"large\",\n          direction: \"rtl\",\n          moreIcon: /*#__PURE__*/_jsx(MenuOutlined, {}),\n          children: [/*#__PURE__*/_jsx(TabPane, {\n            tab: \"Filters\",\n            children: \"Filters Tab\"\n          }, \"filters\"), /*#__PURE__*/_jsx(TabPane, {\n            tab: \"Rating\",\n            children: \"Ratings Tab\"\n          }, \"ratings\"), /*#__PURE__*/_jsxs(TabPane, {\n            tab: \"Relavance\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"kitchen-item \",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"grid sm:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-y-12 lg:gap-x-8\",\n                dir: \"ltr\",\n                children: [plates && plates.map(function (item, index) {\n                  var _item$PlateImages$;\n\n                  // {console.log(item[\"PlateImages\"][0])}\n                  return /*#__PURE__*/_jsx(\"div\", {\n                    className: \"cursor-pointer\",\n                    children: /*#__PURE__*/_jsx(Link, {\n                      href: \"/food-detail/\".concat(encodeURIComponent(item[\"id\"])),\n                      children: /*#__PURE__*/_jsx(\"a\", {\n                        target: \"_blank\",\n                        children: /*#__PURE__*/_jsx(PlateCol, {\n                          sell_count: item[\"sell_count\"],\n                          delivery_time: item[\"delivery_time\"],\n                          delivery_type: item[\"delivery_type\"],\n                          rating: item[\"rating\"],\n                          name: item[\"name\"],\n                          img_url: (_item$PlateImages$ = item[\"PlateImages\"][0]) === null || _item$PlateImages$ === void 0 ? void 0 : _item$PlateImages$.url\n                        })\n                      })\n                    })\n                  }, index);\n                }), loading && [1, 2, 3, 4, 5, 6].map(function (skeleton) {\n                  return /*#__PURE__*/_jsx(_Fragment, {\n                    children: /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"flex flex-col gap-2\",\n                      children: [/*#__PURE__*/_jsx(Skeleton.Avatar, {\n                        shape: \"square\",\n                        className: \"w-full\",\n                        style: {\n                          height: \"33vh\",\n                          width: \"100%\"\n                        }\n                      }), /*#__PURE__*/_jsx(Skeleton.Avatar, {\n                        shape: \"square\",\n                        className: \"w-full\",\n                        style: {\n                          height: \"1.5rem\",\n                          width: \"70%\"\n                        }\n                      }), /*#__PURE__*/_jsx(Skeleton.Avatar, {\n                        shape: \"square\",\n                        className: \"w-full\",\n                        style: {\n                          height: \"1.5rem\",\n                          width: \"40%\"\n                        }\n                      })]\n                    })\n                  });\n                })]\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              dir: \"ltr\",\n              className: \"flex items-center justify-center pt-10 load-more\",\n              children: /*#__PURE__*/_jsxs(Button, {\n                onClick: getNewOnCheffy,\n                className: \"text-white flex items-center bg-red-500 py-8 px-10 text-lg\",\n                children: [\"Load more\", /*#__PURE__*/_jsx(IoMdArrowDropdown, {\n                  className: \"text-3xl\"\n                })]\n              })\n            })]\n          }, \"relavance\")]\n        })]\n      })]\n    }) : /*#__PURE__*/_jsx(_Fragment, {\n      children: /*#__PURE__*/_jsxs(\"p\", {\n        className: \"mt-20 font-poppins flex items-center justify-center flex-col text-3xl py-32\",\n        children: [/*#__PURE__*/_jsx(VscLoading, {\n          className: \"animate-spin text-5xl mb-5\"\n        }), \" Loading...\"]\n      })\n    })]\n  });\n};\n\nexport default CateGoryPlateComponent;","map":null,"metadata":{},"sourceType":"module"}